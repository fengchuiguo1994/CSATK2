<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${title}">CSATK Report</title>
    <style type="text/css">
        @media screen {
            div.summary {
                width: 14em;
                position: fixed;
                top: 3em;
                margin: 1em 0 0 1em;
                background-color: #EDE4D8;
            }

            div.main {
                display: block;
                position: absolute;
                overflow: auto;
                height: auto;
                width: auto;
                top: 4.5em;
                bottom: 2.3em;
                left: 14em;
                right: 0;
                border-left: 1px solid #CCC;
                padding: 0 0 0 1em;
                background-color: white;
                z-index: 1;
            }

            div.header {
                background-color: rgba(135, 57, 34, 1.0);
                border: 0;
                margin: 0;
                padding: 0.5em;
                font-size: 200%;
                font-weight: bold;
                position: fixed;
                width: 100%;
                top: 0;
                left: 0;
                z-index: 2;
            }

            div.footer {
                background-color: #EEE;
                border: 0;
                margin: 0;
                padding: 0.5em;
                height: 1.3em;
                overflow: hidden;
                font-size: 100%;
                font-weight: bold;
                position: fixed;
                bottom: 0;
                width: 100%;
                z-index: 2;
            }

            img.indented {
                margin-left: 3em;
            }
        }

        @media print {
            img {
                max-width: 100% !important;
                page-break-inside: avoid;
            }

            h2, h3 {
                page-break-after: avoid;
            }

            div.header {
                background-color: rgba(135, 57, 34, 1.0);
            }
        }

        body {
            font-family: sans-serif;
            color: #000;
            background-color: #EDE4D8;
            border: 0;
            margin: 0;
            padding: 0;
        }

        div.header {
            border: 0;
            margin: 0;
            padding: 0.5em;
            font-size: 200%;
            font-weight: bold;
            width: 100%;
        }

        #header_title {
            display: inline-block;
            color: rgba(212, 195, 172, 0.5);
            float: left;
            clear: left;
        }

        #header_filename {
            display: inline-block;
            color: rgba(212, 195, 172, 0.5);
            float: right;
            clear: right;
            font-size: 50%;
            margin-right: 2em;
            text-align: right;
        }

        div.header h3 {
            font-size: 50%;
            margin-bottom: 0;
        }

        div.summary ul {
            padding-left: 0;
            list-style-type: none;
        }

        div.summary ul li img {
            margin-bottom: -0.5em;
            margin-top: 0.5em;
        }

        div.main {
            background-color: white;
        }

        div.module {
            text-align: center;
            padding-bottom: 1.5em;
            padding-top: 1.5em;
        }

        div.footer {
            background-color: #EEE;
            border: 0;
            margin: 0;
            padding: 0.5em;
            font-size: 100%;
            font-weight: bold;
            width: 100%;
        }

        a {
            color: #000080;
        }

        a:hover {
            color: #800000;
        }

        h2 {
            color: #800000;
            padding-bottom: 0;
            margin-bottom: 1em;
            clear: left;
        }

        table {
            /*margin-left: 3em;*/
            text-align: center;
            margin: auto;
        }

        th {
            text-align: center;
            background-color: #000080;
            color: #FFF;
            padding: 0.4em;
        }

        td {
            font-family: monospace;
            text-align: left;
            background-color: #EEE;
            color: #000;
            padding: 0.4em;
        }

        img {
            padding-top: 0;
            margin-top: 0;
            border-top: 0;
        }

        p {
            padding-top: 0;
            margin-top: 0;
        }
    </style>
</head>
<body>
<div class="header">
    <div id="header_title">CSATK Report</div>
    <div th:text="${date}" id="header_filename">星期五 24 三月 2017</div>
</div>
<div class="summary">
    <h2>Content</h2>
    <ol type="1">
        <li><a href="#raw_data">Raw Data</a></li>
        <li><a href="#chip_quality">ChIP Quality</a></li>
        <li><a href="#quality_control">Quality Control</a></li>
        <li><a href="#reads_alignment">Reads Alignment</a></li>
        <li><a href="#correlation_analysis">Correlation</a></li>
        <li><a href="#tss_plot">TSS Plot</a></li>
        <li><a href="#peak_calling">Peak Calling</a></li>
        <li><a href="#peak_annotation">Peak Annotation</a></li>
        <li><a href="#go_analysis">GO Analysis</a></li>
        <!--<li><a href="#pathway_analysis">Pathway Analysis</a></li>-->
        <li><a href="#motif_analysis">Motif Analysis</a></li>
        <!--<li><a href="#M8">TSS Plot</a></li>-->
    </ol>
</div>
<div class="main">
    <div class="module">
        <h2 id="raw_data">Raw Data</h2>
        <table>
            <thead>
            <tr>
                <th th:each="header : ${raw_header}" th:text="${header}"></th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="data : ${raw_data}">
                <td th:each="item : ${data}" th:text="${item}">Cell</td>
            </tr>
            </tbody>
        </table>
    </div>

    <div class="module">
        <h2 id="chip_quality">ChIP Quality</h2>
        <p>Still under construction...</p>
        <!--<p><img  src="" alt="Per base quality graph" width="800" height="600"/></p>-->

    </div>

    <div class="module">
        <h2 id="quality_control">Quality Control</h2>
        <table>
            <thead>
            <tr>
                <th th:each="header : ${qc_header}" th:text="${header}"></th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="data : ${qc_data}">
                <td th:each="item : ${data}" th:text="${item}">Cell</td>
            </tr>
            </tbody>
        </table>
        <p><img class="indented" src="#" th:src="'data:image/png;base64,'+${qc_chart}"/></p>
        <!--<p><img  src="" alt="Per base quality graph" width="800" height="600"/></p>-->
    </div>
    <div class="module">
        <h2 id="reads_alignment">Reads Alignment</h2>
        <table>
            <thead>
            <tr>
                <th th:each="header : ${align_header}" th:text="${header}"></th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="data : ${align_data}">
                <td th:each="item : ${data}" th:text="${item}">Cell</td>
            </tr>
            </tbody>
        </table>
        <p><img class="indented" src="#" th:src="'data:image/png;base64,'+${alignment_chart}"/></p>
        <!--<p><img class="indented" src="" alt="Per base quality graph" width="800" height="600"/></p>-->
    </div>

    <div class="module">
        <h2 id="correlation_analysis">Correlation Analysis</h2>
        <p>Still under construction...</p>
        <!--<p><img  src="" alt="Per base quality graph" width="800" height="600"/></p>-->

    </div>

    <div class="module">
        <h2 id="tss_plot">TSS Plot</h2>
        <p>Still under construction...</p>
        <!--<p><img  src="" alt="Per base quality graph" width="800" height="600"/></p>-->

    </div>
    <div class="module">
        <h2 id="peak_calling">Peak Calling</h2>
        <table>
            <thead>
            <tr>
                <th th:each="header : ${call_header}" th:text="${header}"></th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="data : ${call_data}">
                <td th:each="item : ${data}" th:text="${item}">Cell</td>
            </tr>
            </tbody>
        </table>
        <p><img class="indented" src="#" th:src="'data:image/png;base64,'+${peak_call_chart[0]}"/></p>
        <p><img class="indented" src="#" th:src="'data:image/png;base64,'+${peak_call_chart[1]}"/></p>
        <!--<p><img class="indented" src="" alt="Per Sequence quality graph" width="800" height="600"/></p>-->
    </div>
    <div class="module">
        <h2 id="peak_annotation">Peak Annotation</h2>
        <table>
            <thead>
            <tr>
                <th th:each="header : ${anno_header}" th:text="${header}"></th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="data : ${anno_data}">
                <td th:each="item : ${data}" th:text="${item}">Cell</td>
            </tr>
            </tbody>
        </table>
        <p th:each="data : ${peak_anno_pie}">
            <img class="indented" src="#" th:src="'data:image/png;base64,'+${data}"/>
        </p>
        <!--<p><img class="indented" src="" alt="Per base sequence content" width="800" height="600"/></p>-->
    </div>
    <div class="module">
        <h2 id="go_analysis">GO Analysis</h2>
        <table>
            <thead>
            <tr>
                <th th:each="header : ${go_header}" th:text="${header}"></th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="data : ${go_data}">
                <td th:each="item : ${data}" th:text="${item}">Cell</td>
            </tr>
            </tbody>
        </table>
        <p th:each="data : ${go_bar_chart}">
            <img class="indented" src="#" th:src="'data:image/png;base64,'+${data}"/>
        </p>
        <!--<p><img class="indented" src="" alt="Per sequence GC content graph" width="800" height="600"/></p>-->
    </div>
    <!--<div class="module">-->
        <!--<h2 id="pathway_analysis">Pathway Analysis</h2>-->
        <!--<table>-->
            <!--<thead>-->
            <!--<tr>-->
                <!--<th th:each="header : ${pathway_header}" th:text="${header}"></th>-->
            <!--</tr>-->
            <!--</thead>-->
            <!--<tbody>-->
            <!--<tr th:each="data : ${pathway_data}">-->
                <!--<td th:each="item : ${data}" th:text="${item}">Cell</td>-->
            <!--</tr>-->
            <!--</tbody>-->
        <!--</table>-->
        <!--&lt;!&ndash;<p><img class="indented" src="" alt="N content graph" width="800" height="600"/></p>&ndash;&gt;-->
    <!--</div>-->
    <div class="module">
        <h2 id="motif_analysis">Motif Analysis</h2>
        <table>
            <thead>
            <tr>
                <th th:each="header : ${motif_header}" th:text="${header}"></th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="data : ${motif_data}">
                <td th:text="${data[0]}"></td>
                <td><img src="#" th:src="'data:image/png;base64,'+${data[1]}"/></td>
                <td><img src="#" th:src="'data:image/png;base64,'+${data[2]}"/></td>
                <td><img src="#" th:src="'data:image/png;base64,'+${data[3]}"/></td>
                <td><img src="#" th:src="'data:image/png;base64,'+${data[4]}"/></td>
                <td><img src="#" th:src="'data:image/png;base64,'+${data[5]}"/></td>
            </tr>
            </tbody>
        </table>
        <!--<p><img class="indented" src="" alt="Sequence length distribution" width="800" height="600"/></p>-->
    </div>
    <!--<div class="module">-->
    <!--<h2 id="M8">TSS Plot</h2>-->
    <!--<p><img class="indented" src="" alt="Duplication level graph" width="800" height="600"/></p>-->
    <!--</div>-->
</div>
<div class="footer">Produced by
    <a href="https://github.com/j1angvei/CSATK2" target="_blank">CSATK</a> (version 2.0-170422)
</div>
</body>
</html>